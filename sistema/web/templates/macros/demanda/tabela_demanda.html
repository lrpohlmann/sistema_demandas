{% macro tabela_demanda(demandas, numero_paginas, pagina_atual, url_get) %}
<div data-htmx-elemento="tabela">
    <table class="table table-striped table-hover border-primary">
        <thead>
            <tr>
                <th>Id</th>
                <th>Título</th>
                <th>Tipo Específico Demanda</th>
                <th>Responsável</th>
                <th>Data Entrada</th>
                <th>Data Entrega</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {{dados_tabela_demanda(demandas)}}
        </tbody>
    </table>
    {% if numero_paginas > 1%}
    <div>
        <select name="">
            {% for n in range(1, numero_paginas+1) %}
            <option hx-trigger="click" hx-get="{{url_for(url_get, pagina=n)}}" hx-params="*"
                hx-target="closest [data-htmx-elemento=tabela]" hx-swap="outerHTML" value="{{n}}">{{n}}</option>
            {% endfor %}
        </select>
    </div>
    {% endif %}
</div>
{% endmacro %}


{% macro dados_tabela_demanda(lista_demandas) %}
{% for d in lista_demandas %}
<tr>
    <td>{{d.id_demanda}}</td>
    <td>
        <a href="{{url_for('demanda_view', demanda_id=d.id_demanda)}}">{{d.titulo}}</a>
    </td>
    <td>{{d.tipo.nome}}</td>
    <td>{{d.responsavel.nome}}</td>
    <td><time datetime="{{d.data_criacao}}">{{d.data_criacao}}</time></td>
    <td><time datetime="{{d.data_entrega}}">{{d.data_entrega}}</time></td>
    <td>{{d.status}}</td>
</tr>
{% endfor %}
{% endmacro %}